{"version":3,"file":"static/development/pages/_app.js","sources":["webpack:///webpack/bootstrap","webpack:///./components/Cart.js","webpack:///./components/CartCount.js","webpack:///./components/CartItem.js","webpack:///./components/Header.js","webpack:///./components/Meta.js","webpack:///./components/Nav.js","webpack:///./components/Page.js","webpack:///./components/RemoveFromCart.js","webpack:///./components/Search.js","webpack:///./components/Signout.js","webpack:///./components/User.js","webpack:///./components/styles/CartAnimationStyles.js","webpack:///./components/styles/CartIconStyles.js","webpack:///./components/styles/CartItemStyles.js","webpack:///./components/styles/CartStyles.js","webpack:///./components/styles/CloseButton.js","webpack:///./components/styles/NavStyles.js","webpack:///./components/styles/RemoveButton.js","webpack:///./components/styles/SearchStyles.js","webpack:///./components/styles/StoreButton.js","webpack:///./config.js","webpack:///./lib/calcTotalPrice.js","webpack:///./lib/formatMoney.js","webpack:///./lib/withData.js","webpack:///./pages/_app.js","webpack:///external \"@babel/runtime/regenerator\"","webpack:///external \"apollo-boost\"","webpack:///external \"downshift\"","webpack:///external \"graphql-tag\"","webpack:///external \"lodash.debounce\"","webpack:///external \"next-with-apollo\"","webpack:///external \"next/app\"","webpack:///external \"next/head\"","webpack:///external \"next/link\"","webpack:///external \"next/router\"","webpack:///external \"nprogress\"","webpack:///external \"prop-types\"","webpack:///external \"react\"","webpack:///external \"react-adopt\"","webpack:///external \"react-apollo\"","webpack:///external \"react-transition-group\"","webpack:///external \"styled-components\"","webpack:///external \"util\""],"sourcesContent":[" \t// The module cache\n \tvar installedModules = require('../../../ssr-module-cache.js');\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tvar threw = true;\n \t\ttry {\n \t\t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n \t\t\tthrew = false;\n \t\t} finally {\n \t\t\tif(threw) delete installedModules[moduleId];\n \t\t}\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","import React from 'react';\nimport { Query, Mutation } from 'react-apollo';\nimport gql from 'graphql-tag';\nimport { adopt } from 'react-adopt'; //help deal with the nested render props\nimport User from './User';\nimport CartItem from './CartItem';\nimport CartStyles from './styles/CartStyles';\nimport CloseButton from './styles/CloseButton';\nimport StoreButton from './styles/StoreButton';\nimport calcTotalPrice from '../lib/calcTotalPrice';\nimport formatMoney from '../lib/formatMoney';\n\n\n// @client lets apollo know not to go to gql api/server for this data b/c its client side\nconst LOCAL_STATE_QUERY = gql`\n  query {\n    cartOpen @client\n  }\n`;\n\nconst TOGGLE_CART_MUTATION = gql`\n  mutation {\n    toggleCart @client\n  }\n`;\n\n//help with the nested prop types via adopt. arrow funcs and render are a workaround for the proptype errors\nconst Composed = adopt({\n  user: ({ render }) => <User>{render}</User>,\n  toggleCart: ({ render }) => <Mutation mutation={TOGGLE_CART_MUTATION}>{render}</Mutation>,\n  localState: ({ render }) => <Query query={LOCAL_STATE_QUERY}>{render}</Query>\n});\n\nconst Cart = () => (\n  <Composed>\n    {({ user, toggleCart, localState }) => {\n      const me = user.data.me;\n      if (!me) return null;\n      return (\n        <CartStyles open={localState.data.cartOpen}>\n          <header>\n            <CloseButton \n              title=\"close\"\n              onClick={toggleCart}\n            >\n              &times;\n            </CloseButton>\n            <h3 className=\"cartHeader\">{me.name}'s Cart</h3>\n            <p>You Have {me.cart.length} Item\n              {me.cart.length === 1 ? '' : 's'} in Your Cart\n            </p>\n          </header>\n          <ul>\n            {me.cart.map(cartItem => \n              <CartItem \n                key={cartItem.id} \n                cartItem={cartItem} \n              />\n            )}\n          </ul>\n          <footer>\n            <p>{formatMoney(calcTotalPrice(me.cart))}</p>\n            <StoreButton>CHECKOUT</StoreButton>\n          </footer>\n        </CartStyles> \n      )\n    }}\n  </Composed>\n)\n\nexport default Cart;\nexport { LOCAL_STATE_QUERY, TOGGLE_CART_MUTATION };\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { TransitionGroup, CSSTransition } from 'react-transition-group'; //for animations\nimport CartIcon from './styles/CartIconStyles';\nimport CartAnimation from './styles/CartAnimationStyles';\n\n\nconst CartCount = ({ count }) => (\n  <CartAnimation>\n    <TransitionGroup>\n      <CSSTransition \n        unmountOnExit\n        className=\"count\"\n        classNames=\"count\"\n        key={count}\n        timeout={{ enter: 400, exit: 400 }}\n      >\n        <CartIcon>{count}</CartIcon>\n      </CSSTransition>\n    </TransitionGroup>\n  </CartAnimation>\n)\n\nexport default CartCount;","import React from 'react';\nimport formatMoney from '../lib/formatMoney';\nimport CartItemStyles from './styles/CartItemStyles';\nimport PropTypes from 'prop-types';\nimport RemoveFromCart from './RemoveFromCart';\n\n\nconst CartItem = ({ cartItem }) => {\n  //check if item exists\n  if (!cartItem.item) \n    return (\n    <CartItemStyles> \n      <p>This item has been removed.</p>\n      <RemoveFromCart id={cartItem.id} />\n    </CartItemStyles>\n    )\n  return (\n    <CartItemStyles>\n      <img width=\"100\" src={cartItem.item.image} alt={cartItem.item.title} />\n      <div className=\"cart-item-details\">\n        <h3>{cartItem.item.title}</h3>\n        <p>\n          {formatMoney(cartItem.item.price * cartItem.quantity)}\n          {' - '}\n          <em>\n            {cartItem.quantity} &times; \n            {formatMoney(cartItem.item.price)}/ea\n          </em>\n        </p>\n      </div>\n      <RemoveFromCart id={cartItem.id} />\n    </CartItemStyles>\n  )\n}\n\nCartItem.propTypes = {\n  cartItem: PropTypes.object.isRequired,\n}\n\nexport default CartItem;","import Link from 'next/link';\nimport styled from 'styled-components';\nimport NProgress from 'nprogress';\nimport Nav from './Nav';\nimport Router from 'next/router';\nimport Cart from './Cart';\nimport Search from './Search';\n\n\n//NProgress CSS in static folder. NPRogress will add loading bar based on next.js router input\nRouter.onRouteChangeStart = () => {\n  NProgress.start(); \n}\n\nRouter.onRouteChangeComplete = () => {\n  NProgress.done();\n}\n\nRouter.onRouteChangeError = () => {\n  NProgress.done();\n}\n\nconst Logo = styled.h1`\n  font-size: 3rem;\n  font-weight: 600;\n  margin-left: 2rem;\n  position: relative;\n  a {\n    padding: 0.5rem 1rem;\n    color: black;\n    text-decoration: none;\n  }\n  @media (max-width: 1300px) {\n    margin: 0;\n    text-align: center;\n  }\n`;\n\nconst StyledHeader = styled.header`\n  .bar {\n    border-bottom: 10px solid ${props => props.theme.lightBlue};\n    display: grid;\n    grid-template-columns: auto 1fr;\n    justify-content: space-between;\n    align-items: stretch;\n    @media (max-width: 1300px) {\n      grid-template-columns: 1fr;\n      justify-content: center;\n    }\n  }\n  .sub-bar {\n    display: grid;\n    grid-template-columns: 1fr auto;\n    border-bottom: 1px solid ${props => props.theme.lightgrey};\n  }\n`;\n\nconst Header = () => (\n  <StyledHeader>\n    <div className=\"bar\">\n      <Logo>\n        <Link href=\"/\">\n          <a>GoAdventure</a>\n        </Link>\n      </Logo>\n      <Nav />\n    </div>\n    <div className=\"sub-bar\">\n      <Search />\n    </div>\n    <Cart />\n  </StyledHeader>\n)\n\nexport default Header;\n","import Head from 'next/head';\n\nconst Meta = () => (\n  <Head>\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n    <meta charSet=\"utf-8\" />\n    <link rel=\"shortcut icon\" href=\"\" />\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"/static/nprogress.css\" />\n    <title>GoAdventure</title>\n  </Head>\n)\n\nexport default Meta\n","import Link from 'next/link';\nimport { Mutation } from 'react-apollo';\nimport { TOGGLE_CART_MUTATION } from './Cart';\nimport NavStyles from './styles/NavStyles';\nimport User from './User';\nimport Signout from './Signout';\nimport CartCount from './CartCount';\n\nconst Nav = () => (\n  \n  <User>\n    {({ data: { me } }) => (\n    <NavStyles>\n      <Link href=\"/items\">  \n        <a>Shop</a>\n      </Link>\n      {me && (\n        <React.Fragment>\n          <Link href=\"/sell\">  \n            <a>Sell</a>\n          </Link>\n          <Link href=\"/orders\">  \n            <a>Orders</a>\n          </Link>\n          <Link href=\"/me\">  \n            <a>Account</a>\n          </Link>\n          <Signout />\n\n          <Mutation mutation={TOGGLE_CART_MUTATION}> \n            {(toggleCart) => (\n              <button onClick={toggleCart}>\n                My Cart\n                <CartCount \n                count={me.cart.reduce(\n                  (tally, cartItem) => tally + cartItem.quantity, 0)}\n                />\n              </button>\n            )}\n          </Mutation>   \n        </React.Fragment>\n      )}\n      \n      {!me && (\n        <Link href=\"/signup\">  \n          <a>Sign-In</a>\n        </Link>\n      )}\n    </NavStyles>\n    )}\n  </User>\n    \n)\n\nexport default Nav;\n","import React, { Component } from 'react';\nimport styled, { ThemeProvider, injectGlobal } from 'styled-components';\nimport Header from './Header';\nimport Meta from './Meta';\n\n\n//Need to be strings b/c this is not CSS\nconst theme = {\n  lightBlue: '#99C0D1',\n  red: '#FF0000',\n  black: '#393939',\n  grey: '#3A3A3A',\n  lightgrey: '#E1E1E1',\n  offWhite: '#EDEDED',\n  maxWidth: '1000px',\n  boxShadow: '0 12px 24px 0 rgba(0,0,0,.09)' \n}\n\nconst StyledPage = styled.div`\n  background: white;\n  color: ${props => props.theme.black};\n`;\n\nconst Inner = styled.div`\n  max-width: ${props => props.theme.maxWidth};\n  margin: 0 auto;\n  padding: 2rem;\n`;\n\n//inject global css\ninjectGlobal`\n  @import url('https://fonts.googleapis.com/css?family=Lato&display=swap');\n  html {\n    box-sizing: border-box;\n    /* make font base 10 */\n    font-size: 10px;\n  }\n\n  *, *:before, *:after {\n    box-sizing: inherit;\n  }\n\n  body {\n    padding: 0;\n    margin: 0;\n    font-size: 1.5rem;\n    line-height: 2;\n    font-family: 'Lato', sans-serif;\n  }\n\n  a {\n    text-decoration: none;\n    color: ${theme.black};\n  }\n\n`\n\nclass Page extends Component {\n  render() {\n    return (\n      <ThemeProvider theme={theme}>\n        <StyledPage>\n          <Meta />\n          <Header />\n          <Inner>\n            {this.props.children}\n          </Inner> \n        </StyledPage>\n      </ThemeProvider>\n    )\n  }\n}\n\nexport default Page;\n","import React, { Component } from 'react';\nimport { Mutation } from 'react-apollo';\nimport RemoveButton from './styles/RemoveButton';\nimport PropTypes from 'prop-types';\nimport gql from 'graphql-tag';\nimport { CURRENT_USER_QUERY } from './User';\n\nconst REMOVE_FROM_CART_MUTATION = gql`\n  mutation removeFromCart($id: ID!) {\n    removeFromCart(id: $id) {\n      id\n    }\n  }\n`;\n\n\nclass RemoveFromCart extends Component {\n\n  static propTypes = {\n    id: PropTypes.string.isRequired,\n  }\n\n  //removes item from cart quickly\n  //gets called as soon as we get a response back from the server after a mutation has been performed. cache is from apollo, payload is the info returned from the server\n  handleUpdate = (cache, payload) => {\n    //read the cache\n    const data = cache.readQuery({ query: CURRENT_USER_QUERY });\n    console.log(data);\n    //remove item from cart\n    const cartItemId = payload.data.removeFromCart.id\n    data.me.cart = data.me.cart.filter(cartItem => cartItem.id !== cartItemId)\n    //write it back into the cache\n    cache.writeQuery({ query: CURRENT_USER_QUERY, data })\n    \n  }\n\n  render() {\n    return (\n      // mutation will immediately run the optimistic response to delte the item quicker then run the stuff on the back end to actually delete it\n      <Mutation \n      mutation={REMOVE_FROM_CART_MUTATION}\n      variables={{ id: this.props.id }}\n      update={this.handleUpdate}\n      optimisticResponse={{\n        __typename: 'Mutation',\n        removeFromCart: {\n          __typename: 'CartItem',\n          id: this.props.id,\n        }\n      }}\n      >\n        {(removeFromCart, { loading, error }) => (\n          <RemoveButton \n          disabled={loading}\n          title=\"Delete Item\"\n          onClick={() => {\n            removeFromCart().catch(err => alert(err.message));\n          }}\n          >\n          &times;\n          </RemoveButton>\n        )}\n      </Mutation>\n    )\n  }\n}\n\nexport default RemoveFromCart;","import React, { Component } from 'react';\nimport Downshift, { resetIdCounter } from 'downshift'; //package for search bar\nimport Router from 'next/router';\nimport { ApolloConsumer } from 'react-apollo'; //allows you to run queries on demand rather than page load. Exposes Apollo client so we can manually run queries\nimport gql from 'graphql-tag';\nimport debounce from 'lodash.debounce'; //prevents ddosing own site. Takes search events and fires then at appropriate times\nimport { DropDown, DropDownItem, SearchStyles } from './styles/SearchStyles';\nimport { log } from 'util';\n\n//search is title or description contains search term. OR is from prisma\nconst SEARCH_ITEMS_QUERY = gql`\n  query SEARCH_ITEMS_QUERY($searchTerm: String!) {\n    items(\n      where: {\n        OR: [\n          { title_contains: $searchTerm },\n          { description_contains: $searchTerm }\n        ],\n      }\n    ) {\n      id\n      image\n      title\n    }\n  }\n`;\n\n//route search item to appropriate page\nconst routeToItem = (item) => {\n  Router.push({\n    pathname: '/item',\n    query: {\n      id: item.id,\n    }\n  })\n}\n\nclass AutoComplete extends Component {\n\n  state ={\n    items: [],\n    loading: false,\n  }\n\n  //debounce postpones execution of functions that are happening too quickly\n  handleChange = debounce(async (e, client) => {\n    //turn loading on\n    this.setState({ loading: true })\n    //manually query apollo client\n    const res = await client.query({\n      query: SEARCH_ITEMS_QUERY,\n      variables: { searchTerm: e.target.value }\n    })\n    this.setState({\n      items: res.data.items,\n      loading: false\n    });\n  }, 350);\n\n  render() {\n    resetIdCounter(); //gets rid of aria console error from downshift\n    return (\n      <SearchStyles>\n        <Downshift \n          onChange={routeToItem}\n          itemToString={item => (item === null ? '' : item.title)}\n        >\n          {({ getInputProps, getItemProps, isOpen, inputValue, highlightedIndex }) => (\n          <div>\n            <ApolloConsumer>\n              {(client) => (\n                <input \n                {...getInputProps({\n                  type: 'search',\n                  placeholder: \"Search For an Item\",\n                  id: \"search\",\n                  className: this.state.loading ? 'loading' : '',\n                  onChange: e => {\n                    e.persist(); //persists allows us to hold onto e.target.value\n                    this.handleChange(e, client);\n                  },\n                })}\n              />\n              )}\n            </ApolloConsumer>\n\n            {isOpen && (\n              <DropDown>\n                {this.state.items.map((item, index) => \n                  <DropDownItem \n                    {...getItemProps({ item })} \n                    key={item.id}\n                    highlighted={index === highlightedIndex}\n                  >\n                  <img width=\"50\" src={item.image} alt={item.title} />\n                  {item.title}\n                  </DropDownItem>\n                )}\n                {!this.state.items.length && !this.state.loading && (\n                  <DropDownItem>\n                    Nothing found for {inputValue}\n                  </DropDownItem>\n                )}\n              </DropDown>\n            )}\n\n          </div>\n          )}\n        </Downshift>\n      </SearchStyles>   \n    )\n  }\n}\n\nexport default AutoComplete;\n\n","import React from 'react';\nimport { Mutation } from 'react-apollo';\nimport gql from 'graphql-tag';\nimport { CURRENT_USER_QUERY } from './User';\n\nconst SIGN_OUT_MUTATION = gql`\n  mutation SIGN_OUT_MUTATION {\n    signOut {\n      message\n    }\n  }\n`;\n\n\nconst Signout = (props) => (\n  <Mutation \n    mutation={SIGN_OUT_MUTATION}\n    refetchQueries={[\n      { query: CURRENT_USER_QUERY }\n    ]}  \n  >\n    {(signOut) => <button onClick={signOut}>Sign Out</button>}\n  </Mutation>  \n)\n\nexport default Signout;\n","//CUSTOM RENDER PROP COMPONENT \n// lets us re-use this component without having to write a new query every single time\n\nimport { Query } from 'react-apollo';\nimport gql from 'graphql-tag';\nimport PropTypes from 'prop-types';\n\nconst CURRENT_USER_QUERY = gql`\n  query {\n    me {\n      id \n      email\n      name\n      permissions\n      cart {\n        id\n        quantity\n        item {\n          id\n          price\n          image\n          title\n          description\n        }\n      }\n    }\n }\n`;\n\nconst User = (props) => (\n  <Query {...props} query={CURRENT_USER_QUERY}>\n    {payload => props.children(payload)}\n  </Query>\n);\n\nUser.propTypes = {\n  children: PropTypes.func.isRequired,\n}\n\nexport default User;\nexport { CURRENT_USER_QUERY };","import styled from 'styled-components';\n\nconst CartAnimation = styled.span`\n  position: relative;\n  .count {\n    display: block;\n    position: relative;\n    transition: all .5s;\n    backface-visibility: hidden;\n  }\n  /* initial state */\n  .count-enter {\n    background: white;\n    color: ${props => props.theme.lightBlue};\n  }\n  .count-enter-active {\n    \n  }\n  .count-exit {\n    top: 0;\n    position: absolute;\n   \n  }\n  .count-exit-active {\n   \n  }\n`;\n\nexport default CartAnimation;","import styled from 'styled-components';\n\nconst CartIcon = styled.div`\n  color: white;\n  background: ${props => props.theme.lightBlue};\n  border-radius: 10%;\n  padding: .5rem;\n  line-height: 2rem;\n  min-width: 3rem;\n  margin-left: 1rem; \n  font-weight: 100;\n  /* maintains width in div as numbers change */\n  font-feature-settings: 'tnum';\n  font-variant-numeric: tabular-nums;\n`;\n\nexport default CartIcon","import styled from 'styled-components';\n\nconst CartItemStyles = styled.li`\n  padding: 1rem 0;\n  border-bottom: 1px solid ${props => props.theme.lightBlue};\n  display: grid;\n  align-items: center;\n  grid-template-columns: auto 1fr auto;\n  img {\n    margin-right: 10px;\n  }\n  h3, \n  p {\n    margin: 0;\n  }\n`;\n\nexport default CartItemStyles;","import styled from 'styled-components';\n\nconst CartStyles = styled.div`\n  padding: 20px;\n  position: relative;\n  background: white;\n  position: fixed;\n  height: 100%;\n  top: 0;\n  right: 0;\n  width: 40%;\n  min-width: 500px;\n  bottom: 0;\n  transform: translateX(100%);\n  transition: all 0.3s;\n  box-shadow: 0 0 10px 3px rgba(0, 0, 0, 0.2);\n  z-index: 5;\n  display: grid;\n  grid-template-rows: auto 1fr auto;\n  ${props => props.open && `transform: translateX(0);`};\n  header {\n    border-bottom: 5px solid ${props => props.theme.lightBlue};\n    margin-bottom: 1rem;\n    padding-bottom: 1rem;\n  }\n  footer {\n    border-top: 5px solid ${props => props.theme.lightBlue};\n    margin-top: 2rem;\n    padding-top: 2rem;\n    display: grid;\n    grid-template-columns: auto auto;\n    align-items: center;\n    font-size: 3rem;\n    font-weight: 900;\n    p {\n      margin: 0;\n    }\n  }\n  ul {\n    margin: 0;\n    padding: 0;\n    list-style: none;\n    overflow: scroll;\n  }\n`;\n\nexport default CartStyles;","import styled from 'styled-components';\n\nconst CloseButton = styled.button`\n  margin-right: 2rem;\n  background: none;\n  color: ${props => props.theme.lightBlue};\n  font-size: 3rem;\n  border: 0;\n  position: absolute;\n  z-index: 2;\n  right: 0;\n  cursor: pointer;\n  &:hover {\n    color: red; \n  }\n`;\n\nexport default CloseButton;","import styled from 'styled-components';\n\nconst NavStyles = styled.ul`\n  margin: 0;\n  padding: 0;\n  display: flex;\n  justify-self: end;\n  font-size: 2rem;\n  button {\n    background: none;\n    border: 0;\n  }\n  a,\n  button {\n    padding: 1rem 3rem;\n    display: flex;\n    align-items: center;\n    position: relative;\n    text-transform: uppercase;\n    font-size: 1em;\n    cursor: pointer;\n    @media (max-width: 700px) {\n      font-size: 10px;\n      padding: 0 10px;\n    }\n    &:before {\n      content: '';\n      width: 2px;\n      height: 100%;\n      left: 0;\n      position: absolute;\n      top: 0;\n      bottom: 0;\n    }\n    &:after {\n      height: 2px;\n      background: black;\n      content: '';\n      width: 0;\n      position: absolute;\n      transform: translateX(-50%);\n      transition: width 0.4s;\n      transition-timing-function: cubic-bezier(1, -0.65, 0, 2.31);\n      left: 50%;\n      margin-top: 2rem;\n    }\n    &:hover,\n    &:focus {\n      outline: none;\n      &:after {\n        width: calc(100% - 60px);\n      }\n    @media (max-width: 700px) {\n        width: calc(100% - 10px);\n    }\n    }\n  }\n  @media (max-width: 1300px) {\n    border-top: 1px solid ${props => props.theme.lightgrey};\n    width: 100%;\n    justify-content: center;\n    font-size: 1.5rem;\n  }\n`;\n\nexport default NavStyles;\n","import styled from 'styled-components'\n\nconst RemoveButton = styled.button`\n  color: ${props => props.theme.lightBlue};\n  font-size: 3rem;\n  background: none;\n  border: 0;\n  cursor: pointer;\n  &:hover {\n    color: red;\n  }\n`;\n\nexport default RemoveButton;","import styled, { keyframes } from 'styled-components';\n\nconst DropDown = styled.div`\n  position: absolute;\n  width: 100%;\n  z-index: 2;\n  border: 1px solid ${props => props.theme.lightgrey};\n`;\n\nconst DropDownItem = styled.div`\n  border-bottom: 1px solid ${props => props.theme.lightgrey};\n  background: ${props => (props.highlighted ? '#f7f7f7' : 'white')};\n  padding: 1rem;\n  transition: all 0.2s;\n  ${props => (props.highlighted ? 'padding-left: 2rem;' : null)};\n  display: flex;\n  align-items: center;\n  border-left: 10px solid ${props => (props.highlighted ? props.theme.lightgrey : 'white')};\n  img {\n    margin-right: 10px;\n  }\n`;\n\nconst glow = keyframes`\n  from {\n    box-shadow: 0 0 0px yellow;\n  }\n  to {\n    box-shadow: 0 0 10px 1px yellow;\n  }\n`;\n\nconst SearchStyles = styled.div`\n  position: relative;\n  input {\n    width: 100%;\n    padding: 10px;\n    border: 0;\n    font-size: 2rem;\n    &.loading {\n      animation: ${glow} 0.5s ease-in-out infinite alternate;\n    }\n  }\n`;\n\nexport { DropDown, DropDownItem, SearchStyles };","import styled from 'styled-components';\n\nconst StoreButton = styled.button`\n  display: inline-block;\n  color: white;\n  background: ${props => props.theme.lightBlue};\n  font-size: 2rem;\n  padding: .8rem 1.5rem;\n  transition: all 0.5s;\n  cursor: pointer;\n  box-shadow: ${props => props.theme.boxShadow};\n  &[disabled] {\n    opacity: .5;\n  }\n  &:hover {\n    \n  }\n`;\n\nexport default StoreButton;","// This is client side config only - don't put anything in here that shouldn't be public!\nexport const endpoint = `http://localhost:3001`;\n//pagination count\nexport const perPage = 6;\n","//Function credit to Wes Bos\n\nexport default function calcTotalPrice(cart) {\n  return cart.reduce((tally, cartItem) => {\n    if (!cartItem.item) return tally;\n    return tally + cartItem.quantity * cartItem.item.price;\n  }, 0);\n}\n","//Function credit to Wes Bos\n\nexport default function(amount) {\n  const options = {\n    style: 'currency',\n    currency: 'USD',\n    minimumFractionDigits: 2,\n  };\n  // if its a whole, dollar amount, leave off the .00\n  if (amount % 100 === 0) options.minimumFractionDigits = 0;\n  const formatter = new Intl.NumberFormat('en-US', options);\n  return formatter.format(amount / 100);\n}\n","import withApollo from 'next-with-apollo'; //high order component that exposes apollo client via a prop. Need this for next.js serverside rendering\nimport ApolloClient from 'apollo-boost'; //adds extras for cache, statemanagement etc\nimport { endpoint } from '../config';\nimport { LOCAL_STATE_QUERY } from '../components/Cart';\n\nconst createClient = ({ headers }) => {\n  return new ApolloClient({\n    uri: process.env.NODE_ENV === 'development' ? endpoint : endpoint,\n    request: operation => {\n      operation.setContext({\n        fetchOptions: {\n          credentials: 'include', //include logged in cookies when user makes a request\n        },\n        headers,\n      });\n    },\n    //local data\n    clientState: {\n      resolvers: {\n        Mutation: {\n          toggleCart(_, variables, { cache }) { //cache destructured from client\n            //read the cartOpen value from the cache\n            const { cartOpen } = cache.readQuery({\n              query: LOCAL_STATE_QUERY\n            });\n            //write the cart state to the opposite\n            const data = {\n              data: { cartOpen: !cartOpen }\n            };\n            //put it back in state       \n            cache.writeData(data);\n            return data;\n          },\n        },\n      },\n      defaults: {\n        cartOpen: false,\n      },\n    },\n  });\n}\n\nexport default withApollo(createClient);\n","//Next.js wraps everything in an App component this is a custom app. Component will be any of our files in pages folder. Wraps the whole app in this component\nimport App, { Container } from 'next/app';\nimport Page from '../components/Page';\nimport { ApolloProvider } from 'react-apollo';\nimport withData from '../lib/withData'\n\n//App is wrapped in an apollo provider + client to expose the apollo client.\n\nclass MyApp extends App {\n  //enable access to page numbers from next.js. Next.js allows getInitial props to run before the inital render which allows you to destructure pageProps within the render. Args HAVE to be ctx for this to work.\n  static async getInitialProps({ Component, ctx }) {\n    let pageProps = {};\n    if (Component.getInitialProps) {\n      //search entire page for queries and/or mutations that need to be fetched and return the data\n      pageProps = await Component.getInitialProps(ctx);\n    }\n    //make the query available to the user via props in render, can grab ID of object from any page\n    pageProps.query = ctx.query;\n    return { pageProps };\n  }\n\n  render() {\n    const { Component, apollo, pageProps } = this.props\n\n    return(\n        <Container>\n          <ApolloProvider client={apollo}>\n            <Page>\n              <Component {...pageProps}/>\n            </Page>\n          </ApolloProvider>  \n        </Container>\n    )\n  }\n}\n\nexport default withData(MyApp); //wrapping MyApp inside withdata makes everything accessable\n","module.exports = require(\"@babel/runtime/regenerator\");","module.exports = require(\"apollo-boost\");","module.exports = require(\"downshift\");","module.exports = require(\"graphql-tag\");","module.exports = require(\"lodash.debounce\");","module.exports = require(\"next-with-apollo\");","module.exports = require(\"next/app\");","module.exports = require(\"next/head\");","module.exports = require(\"next/link\");","module.exports = require(\"next/router\");","module.exports = require(\"nprogress\");","module.exports = require(\"prop-types\");","module.exports = require(\"react\");","module.exports = require(\"react-adopt\");","module.exports = require(\"react-apollo\");","module.exports = require(\"react-transition-group\");","module.exports = require(\"styled-components\");","module.exports = require(\"util\");"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxFA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAMA;AACA;AAMA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAHA;AACA;AAKA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAjCA;AACA;AAoCA;;;;;;;;;;;;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","sourceRoot":""}